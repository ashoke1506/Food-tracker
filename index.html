<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tracky â€” Smart Food Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: radial-gradient(circle at top, #0f172a, #000000);
      font-family: 'Segoe UI', sans-serif;
    }

    .glass {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: 0 0 20px rgba(0,255,255,0.05);
    }

    .glow-ring {
      background: conic-gradient(#22d3ee 0%, #22d3ee var(--progress), #334155 var(--progress));
    }

    .checkbox:checked + span::after {
      content: "âœ…";
      margin-left: 6px;
    }
  </style>
</head>
<body class="text-white min-h-screen p-6">
  <div class="max-w-4xl mx-auto space-y-8">
    <h1 class="text-4xl font-bold text-center text-cyan-300">ðŸŒŸ Tracky: Smart Food Tracker</h1>
    
    <div class="text-center text-xl font-semibold">
      <span id="greeting"></span> Here's your meal plan for <span id="dayLabel" class="text-cyan-400"></span>
    </div>

    <div class="flex justify-center">
      <div class="w-32 h-32 rounded-full glow-ring flex items-center justify-center text-xl font-bold" style="--progress: 0%">
        <span id="caloriesProgress">0 kcal</span>
      </div>
    </div>

    <div id="planner" class="grid sm:grid-cols-2 gap-4"></div>
  </div>

  <script>
    const mealPlan = [
      {
        day: "Day 1",
        meals: [
          { name: "Ragi dosa (3)", cal: 300 },
          { name: "3 boiled eggs", cal: 210 },
          { name: "Tomato chutney", cal: 60 },
          { name: "Grilled chicken (200g)", cal: 330 },
          { name: "Brown rice (1.5 cups)", cal: 320 },
          { name: "SautÃ©ed vegetables", cal: 120 },
          { name: "Multigrain toast (3)", cal: 240 },
          { name: "Peanut butter (2 tbsp)", cal: 180 },
          { name: "Banana smoothie", cal: 250 },
          { name: "Paneer bhurji (150g)", cal: 280 },
          { name: "Chapati (2)", cal: 200 },
          { name: "Cucumber salad", cal: 30 }
        ]
      },
      {
        day: "Day 2",
        meals: [
          { name: "Idli (4)", cal: 280 },
          { name: "Sambar", cal: 120 },
          { name: "Boiled egg (3)", cal: 210 },
          { name: "Grilled fish (200g)", cal: 320 },
          { name: "Quinoa (1 cup)", cal: 222 },
          { name: "Stir-fried broccoli and carrots", cal: 120 },
          { name: "Whole wheat sandwich with hummus", cal: 320 },
          { name: "Greek yogurt with honey", cal: 150 },
          { name: "Protein shake", cal: 250 },
          { name: "Dal (1 cup)", cal: 198 },
          { name: "Chapati (2)", cal: 200 },
          { name: "Mixed veggie salad", cal: 30 }
        ]
      }
    ];

    const goal = 2100;
    const todayIndex = new Date().getDay() - 1;
    const todayPlan = mealPlan[todayIndex >= 0 && todayIndex < mealPlan.length ? todayIndex : 0];

    document.getElementById("dayLabel").textContent = todayPlan.day;

    const hour = new Date().getHours();
    const greeting =
      hour < 12 ? "Good morning!" :
      hour < 17 ? "Good afternoon!" : "Good evening!";
    document.getElementById("greeting").textContent = greeting;

    const plannerDiv = document.getElementById("planner");
    const caloriesProgress = document.getElementById("caloriesProgress");
    let totalCalories = 0;

    todayPlan.meals.forEach((meal, i) => {
      const wrapper = document.createElement("label");
      wrapper.className = "flex items-center space-x-3 p-4 rounded-xl glass transition hover:bg-cyan-800/20 cursor-pointer";

      wrapper.innerHTML = `
        <input type="checkbox" class="checkbox h-5 w-5 accent-cyan-400" id="meal${i}" data-cal="${meal.cal}" />
        <span class="flex-1 text-lg">${meal.name} <span class="text-sm text-gray-400">(${meal.cal} kcal)</span></span>
      `;

      plannerDiv.appendChild(wrapper);
    });

    document.querySelectorAll('.checkbox').forEach(box => {
      box.addEventListener('change', () => {
        const cal = parseInt(box.getAttribute("data-cal"));
        totalCalories += box.checked ? cal : -cal;

        const progress = Math.min((totalCalories / goal) * 100, 100).toFixed(1) + "%";
        document.querySelector(".glow-ring").style.setProperty("--progress", progress);
        caloriesProgress.textContent = `${totalCalories} kcal`;
      });
    });
  </script>
</body>
</html>
